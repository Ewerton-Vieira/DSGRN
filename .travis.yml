#sudo: false
language: cpp
compiler:
  - gcc
  - clang
install:
- if [ "$CXX" = "g++" ]; then export CXX="g++-4.8" CC="gcc-4.8"; fi
addons:
  apt:
    sources:
    - ubuntu-toolchain-r-test
    packages:
    - gcc-4.8
    - g++-4.8
    - clang
notifications:
  email:
    recipients:
      - sharker81@gmail.com
    on_success: change
    on_failure: always
before_install:
  - wget http://downloads.sourceforge.net/project/boost/boost/1.58.0/boost_1_58_0.tar.gz > /dev/null
  - tar xfz boost_1_58_0.tar.gz > /dev/null
  - cd boost_1_58_0
  - ./bootstrap.sh --with-libraries=thread,system,serialization > /dev/null
  - ./b2 --prefix=../ install > /dev/null
  - cd ..
  # The default version of sqlite on travis doesn't support bulk inserts.
  - sudo apt-add-repository -y ppa:travis-ci/sqlite3
  - sudo apt-get -y update
  - sudo apt-get -y install sqlite3=3.7.15.1-1~travis1
script: 
  - ./software/NetworkLogic/install.sh `pwd`
  - mkdir -p share/DSGRN/logic
  - ./software/NetworkLogic/bin/NetworkLogic 4
  - cp *.dat share/DSGRN/logic/
  - export PATH=$PATH:`pwd`/bin
  - ./install.sh ./
#  - cat build/Testing/Temporary/LastTest.log
